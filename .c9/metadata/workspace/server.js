{"changed":true,"filter":false,"title":"server.js","tooltip":"/server.js","value":"var app = require('http').createServer(handler)\n, io = require('socket.io').listen(app)\n, fs = require('fs')\n\napp.listen(process.env.PORT || 8001);\n\nfunction handler (req, res) {\nfs.readFile('index.html',\nfunction (err, data) {\nif (err) {\nres.writeHead(500);\nreturn res.end('Error loading index.html');\n}\n\nres.writeHead(200, {'Content-Type': 'text/html', \"Content-Length\": data.length});\nres.end(data);\n});\n}\n\nio.sockets.on('connection', function (socket) {\n// echo the message\nsocket.on('message', function (data) {\nconsole.info(data);\nsocket.send(\"[ECHO] \"+data);\n});\n});","undoManager":{"mark":6,"position":12,"stack":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":8,"column":3},"end":{"row":8,"column":6}},"text":"git"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":8,"column":6},"end":{"row":8,"column":7}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":8,"column":4},"end":{"row":8,"column":7}},"text":"it "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":8,"column":3},"end":{"row":8,"column":4}},"text":"g"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":7,"column":1},"end":{"row":7,"column":3}},"text":"//"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":12,"column":0},"end":{"row":12,"column":2}},"text":"})"},{"action":"removeLines","range":{"start":{"row":0,"column":0},"end":{"row":12,"column":0}},"nl":"\n","lines":["var express = require('express')","var app = express();","var cool = require('cool-ascii-faces');","","app.set('port', (process.env.PORT || 5000))","","app.get('/', function(request, response) {"," // response.send(cool());","});","","app.listen(app.get('port'), function() {","  console.log(\"Node app is running at localhost:\" + app.get('port'))"]},{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":47}},"text":"var app = require('http').createServer(handler)"},{"action":"insertText","range":{"start":{"row":0,"column":47},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":25,"column":0}},"lines":[", io = require('socket.io').listen(app)",", fs = require('fs')","","app.listen(process.env.PORT || 8001);","","function handler (req, res) {","fs.readFile('index.html',","function (err, data) {","if (err) {","res.writeHead(500);","return res.end('Error loading index.html');","}","","res.writeHead(200, {'Content-Type': 'text/html', \"Content-Length\": data.length});","res.end(data);","});","}","","io.sockets.on('connection', function (socket) {","// echo the message","socket.on('message', function (data) {","console.info(data);","socket.send(\"[ECHO] \"+data);","});"]},{"action":"insertText","range":{"start":{"row":25,"column":0},"end":{"row":25,"column":3}},"text":"});"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":25,"column":0},"end":{"row":25,"column":3}},"text":"});"},{"action":"removeLines","range":{"start":{"row":0,"column":0},"end":{"row":25,"column":0}},"nl":"\n","lines":["var app = require('http').createServer(handler)",", io = require('socket.io').listen(app)",", fs = require('fs')","","app.listen(process.env.PORT || 8001);","","function handler (req, res) {","fs.readFile('index.html',","function (err, data) {","if (err) {","res.writeHead(500);","return res.end('Error loading index.html');","}","","res.writeHead(200, {'Content-Type': 'text/html', \"Content-Length\": data.length});","res.end(data);","});","}","","io.sockets.on('connection', function (socket) {","// echo the message","socket.on('message', function (data) {","console.info(data);","socket.send(\"[ECHO] \"+data);","});"]},{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":47}},"text":"var app = require('http').createServer(handler)"},{"action":"insertText","range":{"start":{"row":0,"column":47},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":25,"column":0}},"lines":[", io = require('socket.io').listen(app)",", fs = require('fs')","","app.listen(process.env.PORT || 8001);","","function handler (req, res) {","fs.readFile('index.html',","function (err, data) {","if (err) {","res.writeHead(500);","return res.end('Error loading index.html');","}","","res.writeHead(200, {'Content-Type': 'text/html', \"Content-Length\": data.length});","res.end(data);","});","}","","io.sockets.on('connection', function (socket) {","// echo the message","socket.on('message', function (data) {","console.info(data);","socket.send(\"[ECHO] \"+data);","});"]},{"action":"insertText","range":{"start":{"row":25,"column":0},"end":{"row":25,"column":3}},"text":"});"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":25,"column":3},"end":{"row":25,"column":4}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":25,"column":4},"end":{"row":25,"column":5}},"text":"m"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":25,"column":5},"end":{"row":25,"column":6}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":25,"column":5},"end":{"row":25,"column":6}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":25,"column":4},"end":{"row":25,"column":5}},"text":"m"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":25,"column":3},"end":{"row":25,"column":4}},"text":"r"}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":25,"column":3},"end":{"row":25,"column":3},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1411652953201}